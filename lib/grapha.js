(function Q(n,B){if(typeof exports==="object"&&typeof module==="object")module.exports=B();else if(typeof define==="function"&&define.amd)define("grapha",[],B);else if(typeof exports==="object")exports["grapha"]=B();else n["grapha"]=B()})(this,function(){return function(Q){var n={};function B(e){if(n[e]){return n[e].exports}var F=n[e]={i:e,l:false,exports:{}};Q[e].call(F.exports,F,F.exports,B);F.l=true;return F.exports}B.m=Q;B.c=n;B.d=function(Q,n,e){if(!B.o(Q,n)){Object.defineProperty(Q,n,{configurable:false,enumerable:true,get:e})}};B.n=function(Q){var n=Q&&Q.__esModule?function n(){return Q["default"]}:function n(){return Q};B.d(n,"a",n);return n};B.o=function(Q,n){return Object.prototype.hasOwnProperty.call(Q,n)};B.p="";return B(B.s=0)}([function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.Graph = undefined;\n\nvar _grapha = __webpack_require__(1);\n\nvar _grapha2 = _interopRequireDefault(_grapha);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.Graph = _grapha2.default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanM/OTU1MiJdLCJuYW1lcyI6WyJHcmFwaCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7Ozs7UUFDU0EsSyIsImZpbGUiOiIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEdyYXBoIGZyb20gJy4vZ3JhcGhhLmpzJztcbmV4cG9ydCB7IEdyYXBoIH07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvaW5kZXguanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///0\n')},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Graph = function () {\n  function Graph(config) {\n    var _this = this;\n\n    _classCallCheck(this, Graph);\n\n    this._config = config || {};\n    var defaultConf = {\n      isWeighted: false,\n      isDirected: true\n    };\n\n    Object.keys(defaultConf).forEach(function (k) {\n      _this._config[k] = k in _this._config ? _this._config[k] : defaultConf[k];\n    });\n\n    this._nodes = {};\n    this._nodeSize = 0;\n    this._edgeSize = 0;\n  }\n\n  // Creates and returns a new graph given the json object\n\n\n  _createClass(Graph, [{\n    key: 'deserialize',\n    value: function deserialize() {\n      var _this2 = this;\n\n      var json = {};\n      json.nodes = [];\n      json.links = [];\n\n      this.getNodes().forEach(function (n) {\n        _this2.nodesConnectedTo(n).forEach(function (l) {\n          json.links.push({ \"source\": n, \"target\": l });\n        });\n        json.nodes.push({ \"id\": n });\n      });\n\n      return json;\n    }\n  }, {\n    key: 'hasNode',\n    value: function hasNode(node) {\n      if (node in this._nodes) return true;\n      return false;\n    }\n\n    // Adds a node to the Graph if it is not already in it\n\n  }, {\n    key: 'addNode',\n    value: function addNode(node) {\n      if (!this.hasNode(node)) this._nodeSize++;\n      this._nodes[node] = this.nodeOrEmpty(node);\n    }\n\n    // Returns an array of all nodes\n\n  }, {\n    key: 'getNodes',\n    value: function getNodes() {\n      return Object.keys(this._nodes);\n    }\n\n    // Returns an array of all nodes that have an edge from outgoing from node.\n\n  }, {\n    key: 'nodesConnectedTo',\n    value: function nodesConnectedTo(node) {\n      if (!this.hasNode(node)) return;\n      return Object.keys(this._nodes[node].out);\n    }\n  }, {\n    key: 'nodesConnectedFrom',\n    value: function nodesConnectedFrom(node) {\n      if (!this.hasNode(node)) return;\n      return Object.keys(this._nodes[node].in);\n    }\n\n    // Removes the node from the graph if it exists\n    // Will also remove all edges connected to the node\n\n  }, {\n    key: 'removeNode',\n    value: function removeNode(node) {\n      var _this3 = this;\n\n      if (!this.hasNode(node)) return;\n\n      this.nodesConnectedFrom(node).forEach(function (u) {\n        _this3.removeEdge(u, node);\n      });\n\n      this.nodesConnectedTo(node).forEach(function (v) {\n        _this3.removeEdge(node, v);\n      });\n    }\n\n    // Adds an edge between node u and v\n    // If the graph is directed, then the edge will go from node u to node v\n    // If the graph is undirected, the edge will both go from u and v to v and u\n    // If the graph is weighted, the weight of the edge will be updated if the edge already exists\n    // Does nothing if either u or v is not a node\n\n  }, {\n    key: 'addEdge',\n    value: function addEdge(u, v) {\n      var weight = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n\n      if (!(this.hasNode(u) && this.hasNode(v))) return;\n\n      if (!this.isWeighted) weight = 1;\n\n      if (!this.hasEdge(u, v)) this._edgeSize++;\n\n      if (this.isDirected) {\n        this._nodes[u].out[v] = weight;\n        this._nodes[v].in[u] = weight;\n      } else {\n        this._nodes[u].out[v] = weight;\n        this._nodes[v].in[u] = weight;\n        this._nodes[v].out[u] = weight;\n        this._nodes[u].in[v] = weight;\n      }\n    }\n\n    // Returns whether or not an edge exists between node u and v\n\n  }, {\n    key: 'hasEdge',\n    value: function hasEdge(u, v) {\n      if (!(this.hasNode(u) && this.hasNode(v))) return false;\n      if (v in this._nodes[u].out && u in this._nodes[v].in) return true;\n      return false;\n    }\n\n    // Returns the weight of the edge between node u and v if it exists\n    // and false if it doesn't exist\n\n  }, {\n    key: 'getWeight',\n    value: function getWeight(u, v) {\n      if (this.hasEdge(u, v)) {\n        return this._nodes[u].out[v];\n      }\n      return false;\n    }\n\n    // Removes an edge if it exists\n\n  }, {\n    key: 'removeEdge',\n    value: function removeEdge(u, v) {\n      if (this.hasEdge(u, v)) {\n        if (this.isDirected) {\n          delete this._nodes[u].out[v];\n          delete this._nodes[v].in[u];\n        } else {\n          delete this._nodes[u].out[v];\n          delete this._nodes[v].in[u];\n          delete this._nodes[v].out[u];\n          delete this._nodes[u].in[v];\n        }\n        return true;\n      }\n      return false;\n    }\n\n    // Depth first search\n    // Returns a list of reachable nodes and the discovery node\n\n  }, {\n    key: 'DFS',\n    value: function DFS(u) {\n      var _this4 = this;\n\n      if (!this.hasNode(u)) return {};\n\n      var discovery = {};\n      var visited = {};\n\n      var dfs = function dfs(o, v) {\n        if (!_this4.hasNode(v)) return;\n        if (v in visited) return;\n        visited[v] = true;\n        discovery[v] = o;\n        _this4.nodesConnectedTo(v).forEach(function (e) {\n          dfs(v, e);\n        });\n      };\n\n      this.nodesConnectedTo(u).forEach(function (e) {\n        dfs(u, e);\n      });\n\n      return discovery;\n    }\n\n    // returns the node object if it exists or a new one\n\n  }, {\n    key: 'nodeOrEmpty',\n    value: function nodeOrEmpty(node) {\n      return node in this._nodes ? this._nodes[node] : { in: {}, out: {} };\n    }\n\n    // returns a count of nodes in the graph\n\n  }, {\n    key: 'nodeSize',\n    get: function get() {\n      return this._nodeSize;\n    }\n\n    // returns a count of edges\n    // If the graph is undirected each edge will only be counted once\n\n  }, {\n    key: 'edgeSize',\n    get: function get() {\n      return this._edgeSize;\n    }\n\n    // returns an object containing all nodes in the graph\n\n  }, {\n    key: 'nodes',\n    get: function get() {\n      return this._nodes;\n    }\n\n    // returns whether the graph is directed or not\n\n  }, {\n    key: 'isDirected',\n    get: function get() {\n      return this._config.isDirected;\n    }\n\n    // returns whether the edges are weighted or not\n\n  }, {\n    key: 'isWeighted',\n    get: function get() {\n      return this._config.isWeighted;\n    }\n  }], [{\n    key: 'serialize',\n    value: function serialize(json) {\n      var config = json['config'] || {};\n\n      var graph = new Graph(config);\n\n      json['nodes'].forEach(function (n) {\n        graph.addNode(n.id);\n      });\n\n      json['links'].forEach(function (l) {\n        graph.addEdge(l.source, l.target);\n      });\n\n      return graph;\n    }\n  }]);\n\n  return Graph;\n}();\n\nexports.default = Graph;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZ3JhcGhhLmpzP2UwOWYiXSwibmFtZXMiOlsiR3JhcGgiLCJjb25maWciLCJfY29uZmlnIiwiZGVmYXVsdENvbmYiLCJpc1dlaWdodGVkIiwiaXNEaXJlY3RlZCIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIiwiayIsIl9ub2RlcyIsIl9ub2RlU2l6ZSIsIl9lZGdlU2l6ZSIsImpzb24iLCJub2RlcyIsImxpbmtzIiwiZ2V0Tm9kZXMiLCJub2Rlc0Nvbm5lY3RlZFRvIiwibiIsInB1c2giLCJsIiwibm9kZSIsImhhc05vZGUiLCJub2RlT3JFbXB0eSIsIm91dCIsImluIiwibm9kZXNDb25uZWN0ZWRGcm9tIiwicmVtb3ZlRWRnZSIsInUiLCJ2Iiwid2VpZ2h0IiwiaGFzRWRnZSIsImRpc2NvdmVyeSIsInZpc2l0ZWQiLCJkZnMiLCJvIiwiZSIsImdyYXBoIiwiYWRkTm9kZSIsImlkIiwiYWRkRWRnZSIsInNvdXJjZSIsInRhcmdldCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztJQUFxQkEsSztBQUNuQixpQkFBWUMsTUFBWixFQUFvQjtBQUFBOztBQUFBOztBQUNsQixTQUFLQyxPQUFMLEdBQWVELFVBQVUsRUFBekI7QUFDQSxRQUFJRSxjQUFjO0FBQ2hCQyxrQkFBWSxLQURJO0FBRWhCQyxrQkFBWTtBQUZJLEtBQWxCOztBQUtBQyxXQUFPQyxJQUFQLENBQVlKLFdBQVosRUFBeUJLLE9BQXpCLENBQWlDLGFBQUs7QUFDcEMsWUFBS04sT0FBTCxDQUFhTyxDQUFiLElBQWtCQSxLQUFLLE1BQUtQLE9BQVYsR0FBb0IsTUFBS0EsT0FBTCxDQUFhTyxDQUFiLENBQXBCLEdBQXNDTixZQUFZTSxDQUFaLENBQXhEO0FBQ0QsS0FGRDs7QUFJQSxTQUFLQyxNQUFMLEdBQWMsRUFBZDtBQUNBLFNBQUtDLFNBQUwsR0FBaUIsQ0FBakI7QUFDQSxTQUFLQyxTQUFMLEdBQWlCLENBQWpCO0FBQ0Q7O0FBRUQ7Ozs7O2tDQWlCYztBQUFBOztB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RUFBZCxFQUFuRDtBQUNEOztBQUVEOzs7O3dCQUNlO0FBQ2IsYUFBTyxLQUFLYixTQUFaO0FBQ0Q7O0FBRUQ7QUFDQTs7Ozt3QkFDZTtBQUNiLGFBQU8sS0FBS0MsU0FBWjtBQUNEOztBQUVEOzs7O3dCQUNZO0FBQ1YsYUFBTyxLQUFLRixNQUFaO0FBQ0Q7O0FBRUQ7Ozs7d0JBQ2lCO0FBQ2YsYUFBTyxLQUFLUixPQUFMLENBQWFHLFVBQXBCO0FBQ0Q7O0FBRUQ7Ozs7d0JBQ2lCO0FBQ2YsYUFBTyxLQUFLSCxPQUFMLENBQWFFLFVBQXBCO0FBQ0Q7Ozs4QkF0TWdCUyxJLEVBQU07QUFDckIsVUFBSVosU0FBU1ksS0FBSyxRQUFMLEtBQWtCLEVBQS9COztBQUVBLFVBQUl3QixRQUFRLElBQUlyQyxLQUFKLENBQVVDLE1BQVYsQ0FBWjs7QUFFQVksV0FBSyxPQUFMLEVBQWNMLE9BQWQsQ0FBc0IsYUFBSztBQUN6QjZCLGNBQU1DLE9BQU4sQ0FBY3BCLEVBQUVxQixFQUFoQjtBQUNELE9BRkQ7O0FBSUExQixXQUFLLE9BQUwsRUFBY0wsT0FBZCxDQUFzQixhQUFLO0FBQ3pCNkIsY0FBTUcsT0FBTixDQUFjcEIsRUFBRXFCLE1BQWhCLEVBQXdCckIsRUFBRXNCLE1BQTFCO0FBQ0QsT0FGRDs7QUFJQSxhQUFPTCxLQUFQO0FBQ0Q7Ozs7OztrQkFoQ2tCckMsSyIsImZpbGUiOiIxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgR3JhcGgge1xuICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICB0aGlzLl9jb25maWcgPSBjb25maWcgfHwge307IFxuICAgIGxldCBkZWZhdWx0Q29uZiA9IHtcbiAgICAgIGlzV2VpZ2h0ZWQ6IGZhbHNlLFxuICAgICAgaXNEaXJlY3RlZDogdHJ1ZSBcbiAgICB9O1xuXG4gICAgT2JqZWN0LmtleXMoZGVmYXVsdENvbmYpLmZvckVhY2goayA9PiB7IFxuICAgICAgdGhpcy5fY29uZmlnW2tdID0gayBpbiB0aGlzLl9jb25maWcgPyB0aGlzLl9jb25maWdba10gOiBkZWZhdWx0Q29uZltrXSBcbiAgICB9KTtcblxuICAgIHRoaXMuX25vZGVzID0ge307XG4gICAgdGhpcy5fbm9kZVNpemUgPSAwO1xuICAgIHRoaXMuX2VkZ2VTaXplID0gMDtcbiAgfVxuXG4gIC8vIENyZWF0ZXMgYW5kIHJldHVybnMgYSBuZXcgZ3JhcGggZ2l2ZW4gdGhlIGpzb24gb2JqZWN0XG4gIHN0YXRpYyBzZXJpYWxpemUoanNvbikge1xuICAgIGxldCBjb25maWcgPSBqc29uWydjb25maWcnXSB8fCB7fTtcblxuICAgIGxldCBncmFwaCA9IG5ldyBHcmFwaChjb25maWcpO1xuXG4gICAganNvblsnbm9kZXMnXS5mb3JFYWNoKG4gPT4ge1xuICAgICAgZ3JhcGguYWRkTm9kZShuLmlkKTtcbiAgICB9KTtcblxuICAgIGpzb25bJ2xpbmtzJ10uZm9yRWFjaChsID0+IHtcbiAgICAgIGdyYXBoLmFkZEVkZ2UobC5zb3VyY2UsIGwudGFyZ2V0KTtcbiAgICB9KTtcblxuICAgIHJldHVybiBncmFwaDtcbiAgfVxuXG4gIGRlc2VyaWFsaXplKCkge1xuICAgIGxldCBqc29uID0ge307XG4gICAganNvbi5ub2RlcyA9IFtdO1xuICAgIGpzb24ubGlua3MgPSBbXTtcblxuICAgIHRoaXMuZ2V0Tm9kZXMoKS5mb3JFYWNoKG4gPT4ge1xuICAgICAgdGhpcy5ub2Rlc0Nvbm5lY3RlZFRvKG4pLmZvckVhY2gobCA9PiB7XG4gICAgICAgIGpzb24ubGlua3MucHVzaCh7XCJzb3VyY2VcIjogbixcInRhcmdldFwiOmx9KTtcbiAgICAgIH0pO1xuICAgICAganNvbi5ub2Rlcy5wdXNoKHtcImlkXCI6IG59KTtcbiAgICB9KTtcblxuICAgIHJldHVybiBqc29uO1xuICB9XG5cbiAgaGFzTm9kZShub2RlKSB7XG4gICAgaWYobm9kZSBpbiB0aGlzLl9ub2RlcylcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIEFkZHMgYSBub2RlIHRvIHRoZSBHcmFwaCBpZiBpdCBpcyBub3QgYWxyZWFkeSBpbiBpdFxuICBhZGROb2RlKG5vZGUpIHtcbiAgICBpZighdGhpcy5oYXNOb2RlKG5vZGUpKVxuICAgICAgdGhpcy5fbm9kZVNpemUrKztcbiAgICB0aGlzLl9ub2Rlc1tub2RlXSA9IHRoaXMubm9kZU9yRW1wdHkobm9kZSk7XG4gIH1cblxuICAvLyBSZXR1cm5zIGFuIGFycmF5IG9mIGFsbCBub2Rlc1xuICBnZXROb2RlcygpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5fbm9kZXMpO1xuICB9XG5cbiAgLy8gUmV0dXJucyBhbiBhcnJheSBvZiBhbGwgbm9kZXMgdGhhdCBoYXZlIGFuIGVkZ2UgZnJvbSBvdXRnb2luZyBmcm9tIG5vZGUuXG4gIG5vZGVzQ29ubmVjdGVkVG8obm9kZSkge1xuICAgIGlmKCF0aGlzLmhhc05vZGUobm9kZSkpXG4gICAgICByZXR1cm47XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuX25vZGVzW25vZGVdLm91dCk7XG4gIH1cblxuICBub2Rlc0Nvbm5lY3RlZEZyb20obm9kZSkge1xuICAgIGlmKCF0aGlzLmhhc05vZGUobm9kZSkpXG4gICAgICByZXR1cm47XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuX25vZGVzW25vZGVdLmluKTtcbiAgfVxuXG4gIC8vIFJlbW92ZXMgdGhlIG5vZGUgZnJvbSB0aGUgZ3JhcGggaWYgaXQgZXhpc3RzXG4gIC8vIFdpbGwgYWxzbyByZW1vdmUgYWxsIGVkZ2VzIGNvbm5lY3RlZCB0byB0aGUgbm9kZVxuICByZW1vdmVOb2RlKG5vZGUpIHtcbiAgICBpZighdGhpcy5oYXNOb2RlKG5vZGUpKSBcbiAgICAgIHJldHVybjtcblxuICAgIHRoaXMubm9kZXNDb25uZWN0ZWRGcm9tKG5vZGUpXG4gICAgICAuZm9yRWFjaCh1ID0+IHtcbiAgICAgICAgdGhpcy5yZW1vdmVFZGdlKHUsIG5vZGUpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5ub2Rlc0Nvbm5lY3RlZFRvKG5vZGUpXG4gICAgICAuZm9yRWFjaCh2ID0+IHtcbiAgICAgICAgdGhpcy5yZW1vdmVFZGdlKG5vZGUsIHYpO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gQWRkcyBhbiBlZGdlIGJldHdlZW4gbm9kZSB1IGFuZCB2XG4gIC8vIElmIHRoZSBncmFwaCBpcyBkaXJlY3RlZCwgdGhlbiB0aGUgZWRnZSB3aWxsIGdvIGZyb20gbm9kZSB1IHRvIG5vZGUgdlxuICAvLyBJZiB0aGUgZ3JhcGggaXMgdW5kaXJlY3RlZCwgdGhlIGVkZ2Ugd2lsbCBib3RoIGdvIGZyb20gdSBhbmQgdiB0byB2IGFuZCB1XG4gIC8vIElmIHRoZSBncmFwaCBpcyB3ZWlnaHRlZCwgdGhlIHdlaWdodCBvZiB0aGUgZWRnZSB3aWxsIGJlIHVwZGF0ZWQgaWYgdGhlIGVkZ2UgYWxyZWFkeSBleGlzdHNcbiAgLy8gRG9lcyBub3RoaW5nIGlmIGVpdGhlciB1IG9yIHYgaXMgbm90IGEgbm9kZVxuICBhZGRFZGdlKHUsIHYsIHdlaWdodCA9IDEpIHtcbiAgICBpZighKHRoaXMuaGFzTm9kZSh1KSAmJiB0aGlzLmhhc05vZGUodikpKVxuICAgICAgcmV0dXJuO1xuXG4gICAgaWYoIXRoaXMuaXNXZWlnaHRlZClcbiAgICAgIHdlaWdodCA9IDE7XG5cbiAgICBpZighdGhpcy5oYXNFZGdlKHUsdikpXG4gICAgICB0aGlzLl9lZGdlU2l6ZSsrO1xuXG4gICAgaWYodGhpcy5pc0RpcmVjdGVkKSB7XG4gICAgICB0aGlzLl9ub2Rlc1t1XS5vdXRbdl0gPSB3ZWlnaHQ7XG4gICAgICB0aGlzLl9ub2Rlc1t2XS5pblt1XSA9IHdlaWdodDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fbm9kZXNbdV0ub3V0W3ZdID0gd2VpZ2h0O1xuICAgICAgdGhpcy5fbm9kZXNbdl0uaW5bdV0gPSB3ZWlnaHQ7XG4gICAgICB0aGlzLl9ub2Rlc1t2XS5vdXRbdV0gPSB3ZWlnaHQ7XG4gICAgICB0aGlzLl9ub2Rlc1t1XS5pblt2XSA9IHdlaWdodDtcbiAgICB9XG4gIH1cblxuICAvLyBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IGFuIGVkZ2UgZXhpc3RzIGJldHdlZW4gbm9kZSB1IGFuZCB2XG4gIGhhc0VkZ2UodSwgdikge1xuICAgIGlmKCEodGhpcy5oYXNOb2RlKHUpICYmIHRoaXMuaGFzTm9kZSh2KSkpXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYodiBpbiB0aGlzLl9ub2Rlc1t1XS5vdXQgJiYgdSBpbiB0aGlzLl9ub2Rlc1t2XS5pbilcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIFJldHVybnMgdGhlIHdlaWdodCBvZiB0aGUgZWRnZSBiZXR3ZWVuIG5vZGUgdSBhbmQgdiBpZiBpdCBleGlzdHNcbiAgLy8gYW5kIGZhbHNlIGlmIGl0IGRvZXNuJ3QgZXhpc3RcbiAgZ2V0V2VpZ2h0KHUsIHYpIHtcbiAgICBpZih0aGlzLmhhc0VkZ2UodSwgdikpIHtcbiAgICAgIHJldHVybiB0aGlzLl9ub2Rlc1t1XS5vdXRbdl07XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIFJlbW92ZXMgYW4gZWRnZSBpZiBpdCBleGlzdHNcbiAgcmVtb3ZlRWRnZSh1LCB2KSB7XG4gICAgaWYodGhpcy5oYXNFZGdlKHUsIHYpKSB7XG4gICAgICBpZih0aGlzLmlzRGlyZWN0ZWQpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuX25vZGVzW3VdLm91dFt2XTtcbiAgICAgICAgZGVsZXRlIHRoaXMuX25vZGVzW3ZdLmluW3VdO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9ub2Rlc1t1XS5vdXRbdl07XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9ub2Rlc1t2XS5pblt1XTtcbiAgICAgICAgZGVsZXRlIHRoaXMuX25vZGVzW3ZdLm91dFt1XTtcbiAgICAgICAgZGVsZXRlIHRoaXMuX25vZGVzW3VdLmluW3ZdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIERlcHRoIGZpcnN0IHNlYXJjaFxuICAvLyBSZXR1cm5zIGEgbGlzdCBvZiByZWFjaGFibGUgbm9kZXMgYW5kIHRoZSBkaXNjb3Zlcnkgbm9kZVxuICBERlModSkge1xuICAgIGlmKCF0aGlzLmhhc05vZGUodSkpIFxuICAgICAgcmV0dXJuIHt9O1xuXG4gICAgbGV0IGRpc2NvdmVyeSA9IHt9O1xuICAgIGxldCB2aXNpdGVkID0ge307XG5cbiAgICBsZXQgZGZzID0gKG8sIHYpID0+IHtcbiAgICAgIGlmKCEodGhpcy5oYXNOb2RlKHYpKSlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgaWYodiBpbiB2aXNpdGVkKVxuICAgICAgICByZXR1cm47XG4gICAgICB2aXNpdGVkW3ZdID0gdHJ1ZTtcbiAgICAgIGRpc2NvdmVyeVt2XSA9IG87XG4gICAgICB0aGlzLm5vZGVzQ29ubmVjdGVkVG8odikuZm9yRWFjaChlID0+IHtcbiAgICAgICAgICBkZnModiwgZSk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5ub2Rlc0Nvbm5lY3RlZFRvKHUpLmZvckVhY2goZSA9PiB7XG4gICAgICBkZnModSwgZSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gZGlzY292ZXJ5O1xuICB9XG5cbiAgLy8gcmV0dXJucyB0aGUgbm9kZSBvYmplY3QgaWYgaXQgZXhpc3RzIG9yIGEgbmV3IG9uZVxuICBub2RlT3JFbXB0eShub2RlKSB7XG4gICAgcmV0dXJuIChub2RlIGluIHRoaXMuX25vZGVzKSA/IHRoaXMuX25vZGVzW25vZGVdIDoge2luOiB7fSwgb3V0OiB7fX07XG4gIH1cblxuICAvLyByZXR1cm5zIGEgY291bnQgb2Ygbm9kZXMgaW4gdGhlIGdyYXBoXG4gIGdldCBub2RlU2l6ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fbm9kZVNpemU7XG4gIH1cblxuICAvLyByZXR1cm5zIGEgY291bnQgb2YgZWRnZXNcbiAgLy8gSWYgdGhlIGdyYXBoIGlzIHVuZGlyZWN0ZWQgZWFjaCBlZGdlIHdpbGwgb25seSBiZSBjb3VudGVkIG9uY2VcbiAgZ2V0IGVkZ2VTaXplKCkge1xuICAgIHJldHVybiB0aGlzLl9lZGdlU2l6ZTtcbiAgfVxuXG4gIC8vIHJldHVybnMgYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIG5vZGVzIGluIHRoZSBncmFwaFxuICBnZXQgbm9kZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX25vZGVzO1xuICB9XG5cbiAgLy8gcmV0dXJucyB3aGV0aGVyIHRoZSBncmFwaCBpcyBkaXJlY3RlZCBvciBub3RcbiAgZ2V0IGlzRGlyZWN0ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NvbmZpZy5pc0RpcmVjdGVkO1xuICB9XG5cbiAgLy8gcmV0dXJucyB3aGV0aGVyIHRoZSBlZGdlcyBhcmUgd2VpZ2h0ZWQgb3Igbm90XG4gIGdldCBpc1dlaWdodGVkKCkge1xuICAgIHJldHVybiB0aGlzLl9jb25maWcuaXNXZWlnaHRlZDtcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dyYXBoYS5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///1\n")}])});
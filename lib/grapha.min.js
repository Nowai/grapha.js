!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("grapha",[],t):"object"==typeof exports?exports.grapha=t():e.grapha=t()}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Graph=void 0;var o=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(o);t.Graph=i.default},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=function(){function e(t){var n=this;o(this,e),this._config=t||{};var i={isWeighted:!1,isDirected:!0};Object.keys(i).forEach(function(e){n._config[e]=e in n._config?n._config[e]:i[e]}),this._nodes={},this._nodeSize=0,this._edgeSize=0}return i(e,[{key:"deserialize",value:function(){var e=this,t={};return t.nodes=[],t.links=[],this.getNodes().forEach(function(n){e.nodesConnectedTo(n).forEach(function(e){t.links.push({source:n,target:e})}),t.nodes.push({id:n})}),t}},{key:"hasNode",value:function(e){return e in this._nodes}},{key:"addNode",value:function(e){this.hasNode(e)||this._nodeSize++,this._nodes[e]=this.nodeOrEmpty(e)}},{key:"getNodes",value:function(){return Object.keys(this._nodes)}},{key:"nodesConnectedTo",value:function(e){if(this.hasNode(e))return Object.keys(this._nodes[e].out)}},{key:"nodesConnectedFrom",value:function(e){if(this.hasNode(e))return Object.keys(this._nodes[e].in)}},{key:"removeNode",value:function(e){var t=this;this.hasNode(e)&&(this.nodesConnectedFrom(e).forEach(function(n){t.removeEdge(n,e)}),this.nodesConnectedTo(e).forEach(function(n){t.removeEdge(e,n)}))}},{key:"addEdge",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.hasNode(e)&&this.hasNode(t)&&(this.isWeighted||(n=1),this.hasEdge(e,t)||this._edgeSize++,this.isDirected?(this._nodes[e].out[t]=n,this._nodes[t].in[e]=n):(this._nodes[e].out[t]=n,this._nodes[t].in[e]=n,this._nodes[t].out[e]=n,this._nodes[e].in[t]=n))}},{key:"hasEdge",value:function(e,t){return!(!this.hasNode(e)||!this.hasNode(t))&&(t in this._nodes[e].out&&e in this._nodes[t].in)}},{key:"getWeight",value:function(e,t){return!!this.hasEdge(e,t)&&this._nodes[e].out[t]}},{key:"removeEdge",value:function(e,t){return!!this.hasEdge(e,t)&&(this.isDirected?(delete this._nodes[e].out[t],delete this._nodes[t].in[e]):(delete this._nodes[e].out[t],delete this._nodes[t].in[e],delete this._nodes[t].out[e],delete this._nodes[e].in[t]),!0)}},{key:"DFS",value:function(e){var t=this;if(!this.hasNode(e))return{};var n={},o={},i=function e(i,s){t.hasNode(s)&&(s in o||(o[s]=!0,n[s]=i,t.nodesConnectedTo(s).forEach(function(t){e(s,t)})))};return this.nodesConnectedTo(e).forEach(function(t){i(e,t)}),n}},{key:"nodeOrEmpty",value:function(e){return e in this._nodes?this._nodes[e]:{in:{},out:{}}}},{key:"nodeSize",get:function(){return this._nodeSize}},{key:"edgeSize",get:function(){return this._edgeSize}},{key:"nodes",get:function(){return this._nodes}},{key:"isDirected",get:function(){return this._config.isDirected}},{key:"isWeighted",get:function(){return this._config.isWeighted}}],[{key:"serialize",value:function(t){var n=t.config||{},o=new e(n);return t.nodes.forEach(function(e){o.addNode(e.id)}),t.links.forEach(function(e){o.addEdge(e.source,e.target)}),o}}]),e}();t.default=s}])});
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("grapha",[],t):"object"==typeof exports?exports.grapha=t():e.grapha=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Graph=void 0;var i=n(1),o=function(e){return e&&e.__esModule?e:{default:e}}(i);t.Graph=o.default},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t){var n=this;i(this,e),this._config=t||{};var o={isWeighted:!1,isDirected:!0};Object.keys(o).forEach(function(e){n._config[e]=n._config[e]||o[e]}),this._nodes={},this._nodeSize=0,this._edgeSize=0}return o(e,[{key:"deserialize",value:function(){var e=this,t={};return t.nodes=[],t.links=[],Object.keys(this._nodes).forEach(function(n){Object.keys(e._nodes[n].out).forEach(function(e){t.links.push({source:n,target:e})}),t.nodes.push({id:n})}),t}},{key:"addNode",value:function(e){e in this._nodes||this._nodeSize++,this._nodes[e]=this.nodeOrEmpty(e)}},{key:"removeNode",value:function(e){var t=this;e in this._nodes&&(Object.keys(this._nodes[e].in).forEach(function(n){t.removeEdge(n,e)}),Object.keys(this._nodes[e].out).forEach(function(n){t.removeEdge(e,n)}))}},{key:"hasNode",value:function(e){return e in this._nodes}},{key:"addEdge",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(!(e in this._nodes&&t in this._nodes))throw new Error("Can't add edge when one or more nodes don't exist");this._config.isWeighted||(n=1),this.hasEdge(e,t)||this._edgeSize++,this.isDirected?(this._nodes[e].out[t]=n,this._nodes[t].in[e]=n):(this._nodes[e].out[t]=n,this._nodes[t].in[e]=n,this._nodes[t].out[e]=n,this._nodes[e].in[t]=n)}},{key:"hasEdge",value:function(e,t){return e in this._nodes&&t in this._nodes&&(t in this._nodes[e].out&&e in this._nodes[t].in)}},{key:"getWeight",value:function(e,t){return!!this.hasEdge(e,t)&&this._nodes[e].out[t]}},{key:"removeEdge",value:function(e,t){return!!this.hasEdge(e,t)&&(this.isDirected?(delete this._nodes[e].out[t],delete this._nodes[t].in[e]):(delete this._nodes[e].out[t],delete this._nodes[t].in[e],delete this._nodes[t].out[e],delete this._nodes[e].in[t]),!0)}},{key:"DFS",value:function(e){var t=this;if(!this.hasNode(e))return{};var n={},i={},o=function e(o,s){t.hasNode(s)&&(s in i||(i[s]=!0,n[s]=o,Object.keys(t._nodes[s].out).forEach(function(t){e(s,t)})))};return Object.keys(this._nodes[e].out).forEach(function(t){o(e,t)}),n}},{key:"nodeOrEmpty",value:function(e){return e in this._nodes?this._nodes[e]:{in:{},out:{}}}},{key:"nodeSize",get:function(){return this._nodeSize}},{key:"edgeSize",get:function(){return this._edgeSize}},{key:"nodes",get:function(){return this._nodes}},{key:"isDirected",get:function(){return this._config.isDirected}},{key:"isWeighted",get:function(){return this._config.isWeighted}}],[{key:"serialize",value:function(t){var n=new e;return t.nodes.forEach(function(e){n.addNode(e.id)}),t.links.forEach(function(e){n.addEdge(e.source,e.target)}),n}}]),e}();t.default=s}])});